<!DOCTYPE html>
<html  lang="en">
<head>
  <!-- Site made with Mobirise Website Builder v6.1.4, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v6.1.4, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/western-mindanao-state-university-128x128.png" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>Home</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css?v=OVtUYv"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css?v=OVtUYv" type="text/css">

  
  
  
</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu5 cid-uY4mQGDWei" once="menu" id="menu05-a">
	

	<nav class="navbar navbar-dropdown navbar-expand-lg">
		<div class="container">
			<div class="navbar-brand">
				<span class="navbar-logo">
					
						<a href="index.html"><img src="assets/images/western-mindanao-state-university-260x260.png" alt="WMSU Logo" style="height: 3.4rem;"></a>
					
				</span>
				<span class="navbar-caption-wrap"><a class="navbar-caption text-black display-4" href="https://mobiri.se">WMSU Palaro 2025<br>Online Live Scoreboard</a></span>
			</div>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<div class="hamburger">
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav nav-dropdown nav-right" data-app-modern-menu="true"><li class="nav-item">
						<a class="nav-link link text-black text-primary display-4" href="page1.html">Home</a>
					</li><li class="nav-item">
						<a class="nav-link link text-black text-primary display-4" href="page2.html" aria-expanded="false">General</a>
					</li><li class="nav-item">
						<a class="nav-link link text-black text-primary display-4" href="page3.html">College</a>
					</li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="page24.html">Ranking</a></li></ul>
				
			</div>
		</div>
	</nav>
</section>

<section data-bs-version="5.1" class="article11 cid-uY4m3n3M87" id="article11-6">
    

    
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-4">
                
                
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="article11 cid-uY4ool4oeq" id="article11-f">
    

    
    
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                <h3 class="mbr-section-title mbr-fonts-style align-center mt-0 mb-0 display-2">
                <strong>Happening Now</strong></h3>
                
                
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="content4 cid-uY4py76QSA" id="custom-html-g">
    <div class="mbr-overlay" style="opacity: 0.7; background-color: #ffffff;"></div>
    <div class="container">
        <div class="row justify-content-center">
            <div class="title col-md-12 col-lg-10">
                
                <div id="sports-container" class="sports-container d-flex flex-wrap justify-content-center">
                    <!-- Intramural games will load here dynamically -->
                </div>
            </div>
        </div>
    </div>
</section><style class="cid-uY4py76QSA" id="custom-html-g" data-rv-view="188">
    .sports-container {
        display: flex;
        flex-direction: column; /* Stack sports vertically */
        align-items: center;    /* Center the sports */
    }
    .sport-group {
        display: flex;
        justify-content: center;
        flex-wrap: wrap; /* Allow wrapping to next line */
        gap: 20px; /* Space between cards */
        margin-bottom: 30px; /* Space between sport groups */
        max-width: 100%;
    }
    .game-card {
        flex: 1;
        min-width: 300px;
        max-width: 500px;
    }
</style><script class="cid-uY4py76QSA" id="custom-html-g" data-rv-view="188">
    const sheetId = '1EJfto3fshSHuYLUwWLCb7JaDmFKQdXJlunMlyNOwYx8';  // Replace with your Google Sheet ID
    const apiKey = 'AIzaSyB1A4QxXCsSpXPvZ0SNeLtJs6GnJJO-JyQ';       // Replace with your Google Sheets API key
    const range = 'HapNow!A2:L1000';                                     // Range for intramural sports data
    const updateInterval = 2000; // Update every 2 seconds

    const sheetUrl = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${range}?key=${apiKey}`;

    let lastDataHash = null; // Store hash of last data to detect changes

    function getDataHash(data) {
        // Create a simple hash of the data to detect changes
        return JSON.stringify(data);
    }

    function loadGamesData() {
        console.log('Fetching data...');
        fetch(sheetUrl)
            .then(response => response.json())
            .then(data => {
                console.log('Data received:', data);
                const currentDataHash = getDataHash(data);
                
                // Only update if data has changed
                if (currentDataHash === lastDataHash) {
                    console.log('No changes detected, skipping update');
                    return; // No changes, skip update
                }
                
                console.log('Data changed, updating display');
                lastDataHash = currentDataHash; // Update the hash
                
                const sportsContainer = document.getElementById('sports-container');
                const rows = data.values;

                // Create new content first
                let newContent = '';
                
                if (!rows || rows.length === 0) {
                    newContent = '<p style="color: #666; text-align: center; font-size: 1.2rem;">No games currently happening</p>';
                } else {
                    // Create a single container for all games
                    newContent = '<div class="sport-group">';
                    
                    // Render all games in a single list
                    rows.forEach(row => {
                        // Ensure row has enough columns
                        while (row.length < 12) {
                            row.push('');
                        }
                        
                        const team1 = row[0] || 'Team 1';
                        const team1Score = row[1] || '0';
                        const team1Logo = row[2] || '';
                        const team2 = row[4] || 'Team 2';
                        const team2Score = row[5] || '0';
                        const team2Logo = row[6] || '';
                        const sportName = row[8] || 'Sport';
                        const sportIcon = row[9] || '🏆';
                        const gameType = row[10] || 'Match';
                        const status = row[11] || 'In Progress';

                        newContent += `
                            <div class="game-card" style="padding: 15px; background-color: #f9f9f9; border-radius: 8px; text-align: center; box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);">
                                <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                                    <span style="font-size: 20px; margin-right: 8px;">${sportIcon}</span>
                                    <h5 style="font-size: 18px; margin: 0;">${sportName} - ${gameType}</h5>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; margin: 15px 0;">
                                    <div style="flex: 1; text-align: center; display: flex; flex-direction: column; align-items: center;">
                                        ${team1Logo ? `<img src="${team1Logo}" alt="${team1}" style="width: 40px; height: 40px; border-radius: 50%; margin-bottom: 5px; object-fit: cover;">` : ''}
                                        <div style="font-size: 14px; font-weight: bold;">${team1}</div>
                                        <div style="font-size: 24px; font-weight: bold; color: black;">${team1Score}</div>
                                    </div>
                                    <div style="font-size: 16px; color: gray; margin: 0 15px;">VS</div>
                                    <div style="flex: 1; text-align: center; display: flex; flex-direction: column; align-items: center;">
                                        ${team2Logo ? `<img src="${team2Logo}" alt="${team2}" style="width: 40px; height: 40px; border-radius: 50%; margin-bottom: 5px; object-fit: cover;">` : ''}
                                        <div style="font-size: 14px; font-weight: bold;">${team2}</div>
                                        <div style="font-size: 24px; font-weight: bold; color: black;">${team2Score}</div>
                                    </div>
                                </div>
                                <div style="margin-top: 10px; font-size: 14px; color: gray;">
                                    ${status}
                                </div>
                            </div>
                        `;
                    });
                    
                    newContent += '</div>';
                }
                
                // Only update the DOM after content is ready
                console.log('Updating DOM with new content');
                sportsContainer.innerHTML = newContent;
                console.log('DOM updated successfully');
            })
            .catch(error => {
                console.error('Error fetching data:', error);
                // Don't clear existing content on error, just log the error
                console.log('Keeping existing content due to fetch error');
            });
    }

    // Load data immediately
    loadGamesData();

    // Set up automatic updates
    setInterval(loadGamesData, updateInterval);
</script>

<section data-bs-version="5.1" class="features16 cid-uY4sps1sZD" id="features016-o">  
  
  
  
  <div class="container">
    <div class="row justify-content-center mb-5">
      <div class="col-12 content-head">
        <h4 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2">
          <strong>Links</strong></h4>
        
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="item features-without-image col-12 col-lg-6">
        <div class="item-wrapper">
          <div class="card-box">
            <div class="img-box">
              <div class="image-wrapper mb-3">
                <a href="page2.html"><img src="assets/images/western-mindanao-state-university-260x260.png" alt=""></a>
              </div>
            </div>
            <h4 class="card-title mbr-fonts-style mb-0 display-5">
              <strong>General Scoreboard</strong></h4>
            
            <div class="link-wrap">
              
            </div>
          </div>
        </div>
      </div>
      <div class="item features-without-image col-12 col-lg-6">
        <div class="item-wrapper">
          <div class="card-box">
            <div class="img-box">
              <div class="image-wrapper mb-3">
                <a href="page3.html"><img src="assets/images/western-mindanao-state-university-260x260.png" alt=""></a>
              </div>
            </div>
            <h4 class="card-title mbr-fonts-style mb-0 display-5">
              <strong>College Scoreboard</strong></h4>
            
            <div class="link-wrap">
              
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</section>

<section data-bs-version="5.1" class="footer4 cid-uY4tHSNFfe" once="footers" id="footer04-q">

    

    

    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="col-12">
                <p class="mbr-text mb-0 mbr-fonts-style display-7">
                    © Copyright 2025 TUD - All Rights Reserved
                </p>
            </div>
        </div>
    </div>
</section><section class="display-7" style="padding: 0;align-items: center;justify-content: center;flex-wrap: wrap;    align-content: center;display: flex;position: relative;height: 4rem;"><a href="https://mobiri.se/3408938" style="flex: 1 1;height: 4rem;position: absolute;width: 100%;z-index: 1;"><img alt="" style="height: 4rem;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="></a><p style="margin: 0;text-align: center;" class="display-7">&#8204;</p><a style="z-index:1" href="https://mobirise.com"> Website Software</a></section><script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>  <script src="assets/smoothscroll/smooth-scroll.js"></script>  <script src="assets/ytplayer/index.js"></script>  <script src="assets/dropdown/js/navbar-dropdown.js"></script>  <script src="assets/theme/js/script.js"></script>  
  
  
</body>
</html>